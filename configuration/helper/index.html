<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.98.0"><meta name=generator content="Relearn 5.7.0"><meta name=description content><meta name=author content="Choria Project"><title>Writing a Helper :: Choria Provisioner</title><link href=https://choria-io.github.io/provisioner/configuration/helper/index.xml rel=alternate type=application/rss+xml title="Writing a Helper :: Choria Provisioner"><link href=https://choria-io.github.io/provisioner/css/fontawesome-all.min.css?1669828129 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://choria-io.github.io/provisioner/css/fontawesome-all.min.css?1669828129 rel=stylesheet></noscript><link href=https://choria-io.github.io/provisioner/css/featherlight.min.css?1669828129 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://choria-io.github.io/provisioner/css/featherlight.min.css?1669828129 rel=stylesheet></noscript><link href=https://choria-io.github.io/provisioner/css/auto-complete.css?1669828129 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://choria-io.github.io/provisioner/css/auto-complete.css?1669828129 rel=stylesheet></noscript><link href=https://choria-io.github.io/provisioner/css/perfect-scrollbar.min.css?1669828129 rel=stylesheet><link href=https://choria-io.github.io/provisioner/css/nucleus.css?1669828129 rel=stylesheet><link href=https://choria-io.github.io/provisioner/css/fonts.css?1669828129 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://choria-io.github.io/provisioner/css/fonts.css?1669828129 rel=stylesheet></noscript><link href=https://choria-io.github.io/provisioner/css/theme.css?1669828129 rel=stylesheet><link href=https://choria-io.github.io/provisioner/css/theme-my-custom-variant.css?1669828129 rel=stylesheet id=variant-style><link href=https://choria-io.github.io/provisioner/css/ie.css?1669828129 rel=stylesheet><link href=https://choria-io.github.io/provisioner/css/variant.css?1669828129 rel=stylesheet><link href=https://choria-io.github.io/provisioner/css/print.css?1669828129 rel=stylesheet media=print><script src=https://choria-io.github.io/provisioner/js/url.js?1669828129></script>
<script src=https://choria-io.github.io/provisioner/js/variant.js?1669828129></script>
<script>window.index_json_url="https://choria-io.github.io/provisioner/index.json";var root_url="https://choria-io.github.io/provisioner/",baseUriFull,baseUri=root_url.replace(/\/$/,'');window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://choria-io.github.io/provisioner/",window.variants&&variants.init(["my-custom-variant"])</script><script src=https://choria-io.github.io/provisioner/js/jquery.min.js?1669828129 defer></script></head><body class="mobile-support html disableInlineCopyToClipboard" data-url=https://choria-io.github.io/provisioner/configuration/helper/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable dir=ltr><div><div class=navigation><a class="nav nav-next" href=https://choria-io.github.io/provisioner/monitoring/index.html title="Monitoring (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev" href=https://choria-io.github.io/provisioner/configuration/broker/index.html title="Broker Setup (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle title="Menu (CTRL+ALT+n)"><i class="fas fa-bars fa-fw"></i></a></span>
<span id=toc-menu title="Table of Contents (CTRL+ALT+t)"><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=https://choria-io.github.io/provisioner/index.html><span itemprop=name>Choria Provisioner</span></a><meta itemprop=position content="1">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=https://choria-io.github.io/provisioner/configuration/index.html><span itemprop=name>Configuration</span></a><meta itemprop=position content="2">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Writing a Helper</span><meta itemprop=position content="3"></li></ol></div><div class="default-animation progress"><div class=toc-wrapper dir=ltr><nav id=TableOfContents><ul><li><a href=#input>Input</a></li><li><a href=#output>Output</a></li><li><a href=#enrolling-nodes-with-a-certificate-authority>Enrolling nodes with a Certificate Authority</a></li><li><a href=#enrolling-nodes-with-an-organization-issuer>Enrolling nodes with an Organization Issuer</a></li><li><a href=#upgrading-servers>Upgrading Servers</a></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><div id=head-tags></div><article class=default><h1 id=writing-a-helper>Writing a Helper</h1><p>The Helper is a script or program written in any language that is in charge of handling the steps that are unique to your environment.</p><p>Essentially it receives Server Metadata on its STDIN and writes a response to STDOUT that is used to configure the server.</p><p>See the sections below for sample Helper scripts.</p><h2 id=input>Input</h2><p>Let&rsquo;s look at what you might receive as input on STDIN. The specifics will vary a bit between scenarios which we will call out in specific sections. The data you will get will all already have been validated. For example the JWT would have been parsed already and known to be valid.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;identity&#34;</span>: <span style=color:#e6db74>&#34;24bd22cdb279.choria.local&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;csr&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ed25519_pubkey&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;public_key&#34;</span>: <span style=color:#e6db74>&#34;2ddc906446a935aefde69ceee2beb3b1d85f264153720d9a752aa88771c0594c&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;directory&#34;</span>: <span style=color:#e6db74>&#34;/etc/choria&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;signature&#34;</span>: <span style=color:#e6db74>&#34;34c5c4d0564747b1d0577ddc9c4084de547235d56e2803a754c76ba4eabbf17e31453ebd9ca4b4a7dd5e25ccf57afd4138519de4666c81d3ee3cd5381cc15a0a&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;inventory&#34;</span>: <span style=color:#e6db74>&#34;{\&#34;agents\&#34;:[\&#34;choria_provision\&#34;,\&#34;choria_util\&#34;,\&#34;discovery\&#34;,\&#34;rpcutil\&#34;],\&#34;classes\&#34;:[],\&#34;collectives\&#34;:[\&#34;provisioning\&#34;],\&#34;data_plugins\&#34;:[],\&#34;facts\&#34;:{},\&#34;machines\&#34;:[],\&#34;main_collective\&#34;:\&#34;provisioning\&#34;,\&#34;version\&#34;:\&#34;0.99.0.20221129\&#34;,\&#34;upgradable\&#34;:true}&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;jwt&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;cht&#34;</span>: <span style=color:#e6db74>&#34;s3cret&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;chs&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;chu&#34;</span>: <span style=color:#e6db74>&#34;nats://broker.choria.local:4222&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;chpd&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;extensions&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;ou&#34;</span>: <span style=color:#e6db74>&#34;choria&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;v2&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;purpose&#34;</span>: <span style=color:#e6db74>&#34;choria_provisioning&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;iss&#34;</span>: <span style=color:#e6db74>&#34;Choria Tokens Package v0.26.2&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;sub&#34;</span>: <span style=color:#e6db74>&#34;choria_provisioning&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;nbf&#34;</span>: <span style=color:#ae81ff>1669809657</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;iat&#34;</span>: <span style=color:#ae81ff>1669809657</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;jti&#34;</span>: <span style=color:#e6db74>&#34;3a4f9896e013498daeedbcb9a82fcd3c&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>identity</code></td><td>The Choria Server identity being provisioned - typically FQDN</td></tr><tr><td><code>csr</code></td><td>Would be non nil when the <code>pki</code> feature is enabled for obtaining x509 certificates</td></tr><tr><td><code>ed25519_pubkey</code></td><td>Would be non nil when the <code>ed25519</code> feature is enabled</td></tr><tr><td><code>inventory</code></td><td>Is the JSON result of <code>choria req rpcutil inventory</code> this lets you find facts, version information and more about the server.</td></tr><tr><td><code>jwt</code></td><td>Is the verified contents of the <code>provisioning.jwt</code> on the server when the <code>jwt</code> feature is enabled</td></tr></tbody></table><h2 id=output>Output</h2><p>The response your helper should write to STDOUT is also in JSON format.</p><p>Here is an example that configures Choria Server and uses the <code>jwt</code> feature to enroll a node into an Organization Issuer based network.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;defer&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;msg&#34;</span>: <span style=color:#e6db74>&#34;Done&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;certificate&#34;</span>: <span style=color:#e6db74>&#34;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ca&#34;</span>: <span style=color:#e6db74>&#34;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;configuration&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;identity&#34;</span>: <span style=color:#e6db74>&#34;eb873ce040d7.choria.local&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;loglevel&#34;</span>: <span style=color:#e6db74>&#34;info&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.choria.server.provision&#34;</span>: <span style=color:#e6db74>&#34;false&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.choria.middleware_hosts&#34;</span>: <span style=color:#e6db74>&#34;nats://broker.choria.local:4222&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;rpcauthorization&#34;</span>: <span style=color:#e6db74>&#34;0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.choria.status_file_path&#34;</span>: <span style=color:#e6db74>&#34;/var/log/choria-status.json&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.choria.submission.spool&#34;</span>: <span style=color:#e6db74>&#34;/var/lib/choria/submission&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.security.issuer.names&#34;</span>: <span style=color:#e6db74>&#34;choria&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.security.issuer.choria.public&#34;</span>: <span style=color:#e6db74>&#34;e72cba5268b34627b75c5ceae9449ad16d62f15f862c30d4e0e7d2588e2e6259&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.security.provider&#34;</span>: <span style=color:#e6db74>&#34;choria&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.security.choria.token_file&#34;</span>: <span style=color:#e6db74>&#34;/etc/choria/server.jwt&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.security.choria.seed_file&#34;</span>: <span style=color:#e6db74>&#34;/etc/choria/server.seed&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;plugin.choria.machine.store&#34;</span>: <span style=color:#e6db74>&#34;/etc/choria/machine&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;server_claims&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;exp&#34;</span>: <span style=color:#ae81ff>157680000</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;permissions&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;streams&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;submission&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>The configuration must set <code>plugin.choria.server.provision</code> to disable provisioning, else the node will keep being reprovisioned forever.</p></div></div><p>Response keys used by scenarios:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>defer</code></td><td>Defers the provisioning, this is a soft state meaning the server will come back and be retried later</td></tr><tr><td><code>shutdown</code></td><td>Issues a shutdown on the server with exit code 0, systemd will not restart it.</td></tr><tr><td><code>msg</code></td><td>A message to log on the Server to explain why it is being deferred or shut down</td></tr><tr><td><code>configuration</code></td><td>A JSON Object of configuration items in key-value pairs, will be written to the server config</td></tr><tr><td><code>action_policies</code></td><td>A JSON Object of Action Policy policies in key-value pairs, where the key is an agent name</td></tr><tr><td><code>opa_policies</code></td><td>A JSON Object of Open Policy Agent policies in key-value pairs, where the key is an agent name or <code>default</code></td></tr></tbody></table><p>When using the <code>pki</code> feature used to enroll with a Certificate Authority:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>key</code></td><td>An optional x509 private key that the server should use, will be encrypted using a unique one-time password in transit</td></tr><tr><td><code>certificate</code></td><td>The signed certificate in PEM format</td></tr><tr><td><code>ca</code></td><td>The Certificate Authority public key in PEM format</td></tr><tr><td><code>ssldir</code></td><td>What directory to store the key, certificate and ca in on the server</td></tr></tbody></table><p>When using the <code>jwt</code> feature to create server JWT tokens for Organization Issuer based networks:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>server_claims</code></td><td>The Choria Server token claims to base the server JWT on</td></tr></tbody></table><p>When using the <code>upgrades</code> feature to in-place upgrade servers:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>upgrade</code></td><td>The version to upgrade the server to before provisioning</td></tr></tbody></table><h2 id=enrolling-nodes-with-a-certificate-authority>Enrolling nodes with a Certificate Authority</h2><p>Most typically you have a Enterprise Certificate Authority or you made your own using something like <a href=https://cfssl.org/>cfssl</a>.</p><p>In this mode Choria Server will generate a private key on its disk, create a CSR and your helper will receive the CSR in PEM format. In your helper you then simply interact with your CA to sign the CSR and respond with the signed Certificate and CA public key. This way once provisioned your server will be fully enrolled for mTLS.</p><p>To enable the Provisioner to request the CSR the <code>pki</code> feature needs to be enabled in the Provisioner Configuration.</p><p>The <code>csr</code> input field will then be a JSON Object with:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>csr</code></td><td>The PEM encoded CSR the node is sending</td></tr><tr><td><code>public_key</code></td><td>The public part of the key the server created</td></tr><tr><td><code>ssldir</code></td><td>The directory the server created the private key in so it can be used in the generated configuration</td></tr></tbody></table><p>Once you have this data you can use your CA API to enroll the node and get a signed certificate back. Simply put the resulting PEM data in the <code>certificate</code>and <code>ca</code> keys in the reply. You can set a SSL directory but typically just set <code>ssldir</code> to what was received in the input.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>A basic sample helper that enrolls in a <code>cfssl</code> based CA can be seen in <a href=../../cfssl-helper.rb>cfssl-helper.rb</a></p></div></div><p>In general the Private key stays on the node and you do not need it. Some Certificate Authorities require the private key to be accessible when signing a request. Provisioner support that, if you generate a key in the provisioner and add it to the reply in the <code>key</code> JSON field a single use Shared Secret negotiated using Diffie-Hellman will be used to encrypt the key in transit.</p><p>I would not suggest ever to use a CA that requires you to transmit the Private Key during enrollment, it&rsquo;s best to assume your CA is unusable at that point and consider a Organization Issuer based deployment.</p><h2 id=enrolling-nodes-with-an-organization-issuer>Enrolling nodes with an Organization Issuer</h2><p>In cases where a Certificate Authority is not available or it is operated in a way that makes it unsuitable for mTLS use you might opt to deploy Choria in an Organization Issuer based setup. The basic setup of that mode is out of scope for this document.</p><div class="box notices cstyle secondary"><div class=box-label><i class="fa-fw fas fa-code-branch"></i> Version Hint</div><div class=box-content><p>This applies only to Choria 0.27.0 and newer which is due to ship early 2023</p></div></div><p>To enrol nodes in an Organization Issuer based network you need to enable the <code>ed25519</code> feature in the Provisioner Configuration.</p><p>Once enabled the <code>ed25519_pubkey</code> field will hold a JSON Object with these values:</p><table><thead><tr><th>Key</th><th>Description</th></tr></thead><tbody><tr><td><code>public_key</code></td><td>The <code>ed25519</code> public key unique to the server</td></tr><tr><td><code>directory</code></td><td>The directory that will hold <code>server.seed</code> and where <code>server.jwt</code> will be saved to later</td></tr><tr><td><code>signature</code></td><td>A signature of the request made using the private key matching the <code>public_key</code>, this can be ignored as it would already be validated</td></tr></tbody></table><p>Once you received these you can include a <code>server_claims</code> in your reply to give the server access to specific features in its JWT claims. The list here is correct for <code>0.27.0</code>. For an up-to-date list see the <a href=https://pkg.go.dev/github.com/choria-io/go-choria@v0.26.2/tokens#ServerClaims>Go Documentation for your version of Choria</a>.</p><p>The claims can include <code>permissions</code> that have these properties.</p><table><thead><tr><th>Permission</th><th>Description</th></tr></thead><tbody><tr><td><code>submission</code></td><td>Allows the server to use <a href=https://choria.io/docs/streams/submission/>Choria Submission</a></td></tr><tr><td><code>streams</code></td><td>Allows the server to access <a href=https://choria.io/docs/streams/>Choria Streams</a> for example to read KV buckets from autonomous agents</td></tr><tr><td><code>governor</code></td><td>Allows the server to access <a href=https://choria.io/docs/streams/governor/>Choria Governor</a> from autonomous agents</td></tr><tr><td><code>service_host</code></td><td>Allows the server to host Services</td></tr></tbody></table><p>You can also use them to restrict it to a specific sub collective and more. Most values will default to sane defaults when not given.</p><h2 id=upgrading-servers>Upgrading Servers</h2><p>Choria Server can be upgraded in-place to a new version. This is done by overwriting the binary at run-time with one downloaded from a specifically prepared repository.</p><p>This can only be done during Provisioning and requires the <code>upgrades</code> feature to be enabled.</p><div class="box notices cstyle secondary"><div class=box-label><i class="fa-fw fas fa-code-branch"></i> Version Hint</div><div class=box-content><p>This applies only to Choria 0.27.0 and newer which is due to ship early 2023</p></div></div><p>Compatible nodes will have the <code>upgradable</code> key in the inventory received and will be set to <code>true</code> when upgrades are enabled. If you only want to support the latest nodes you can use this to determine if a upgrade is needed along with the <code>version</code> key in the inventory. On nodes that are too old set <code>shutdown</code> or <code>defer</code>.</p><p>You would have to configure the Provisioner with a repository location and set up a repository on a HTTP server as per the guidelines from <a href=https://github.com/choria-io/go-updater>go-updater</a>.</p><p>With all of this in place you can add the <code>upgrade</code> key to the helper response that should just be a desired version like <code>0.28.0</code>. Provisioner will then attempt to upgrade the node.</p><footer class=footline></footer></article></div></main></div><aside id=sidebar class=default-animation dir=ltr><div id=header-wrapper class=default-animation><div id=header class=default-animation><img src=https://choria-io.github.io/provisioner/logo.png></div><div class="searchbox default-animation"><i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
<label class=a11y-only for=search-by>Search</label>
<input data-search-input id=search-by name=search-by class=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script>var contentLangs=["en"]</script><script src=https://choria-io.github.io/provisioner/js/auto-complete.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/lunr.min.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/lunr.stemmer.support.min.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/lunr.multi.min.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/lunr.en.min.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/search.js?1669828129 defer></script></div><div id=homelinks class=default-animation><ul><li><a class=padding href=https://choria-io.github.io/provisioner/index.html><i class="fas fa-home"></i> Home</a></li></ul></div><div id=content-wrapper class=highlightable><ul class=topics><li data-nav-id=/installtion/index.html class=dd-item><a href=https://choria-io.github.io/provisioner/installtion/index.html><b>1. </b>Installation</a></li><li data-nav-id=/configuration/index.html class="dd-item parent alwaysopen"><a href=https://choria-io.github.io/provisioner/configuration/index.html><b>2. </b>Configuration</a><ul id=subsections-632bb56b075027697eb90eb7e3d29a12><li data-nav-id=/configuration/server/index.html class=dd-item><a href=https://choria-io.github.io/provisioner/configuration/server/index.html><b>1.1. </b>Server Setup</a></li><li data-nav-id=/configuration/broker/index.html class=dd-item><a href=https://choria-io.github.io/provisioner/configuration/broker/index.html><b>1.2. </b>Broker Setup</a></li><li data-nav-id=/configuration/helper/index.html class="dd-item active"><a href=https://choria-io.github.io/provisioner/configuration/helper/index.html><b>1.3. </b>Writing a Helper</a></li></ul></li><li data-nav-id=/monitoring/index.html class=dd-item><a href=https://choria-io.github.io/provisioner/monitoring/index.html><b>3. </b>Monitoring</a></li></ul><div id=shortcuts><div class=nav-title>More</div><ul><li><a class=padding href=https://github.com/choria-io/provisioner><i class="fab fa-fw fa-github"></i> GitHub</a></li><li><a class=padding href=https://github.com/choria-io/provisioner/releases><i class="far fa-save"></i> Download</a></li><li><a class=padding href=https://github.com/choria-io/general/discussions><i class="far fa-comments"></i> Discussions</a></li><li><a class=padding href=https://github.com/choria-io/provisioner/issues><i class="far fa-life-ring"></i> Issues</a></li><li><a class=padding href=https://slack.puppet.com/><i class="fab fa-slack"></i> #choria</a></li></ul></div><div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div><hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks"><ul><li id=select-language-container class=footerLangSwitch><div class="padding select-container"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-language>Language</label>
<select id=select-language onchange="location=baseUri+this.value"></select></div><div class=select-clear></div></div></li><li id=select-variant-container class=footerVariantSwitch><div class="padding select-container"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-variant>Theme</label>
<select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=my-custom-variant value=my-custom-variant selected>My Custom Variant</option></select></div><div class=select-clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><button class=padding onclick=clearHistory()><i class="fas fa-history fa-fw"></i> Clear History</button></li></ul></div><div id=footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=https://choria-io.github.io/provisioner/js/clipboard.min.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/perfect-scrollbar.min.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/featherlight.min.js?1669828129 defer></script>
<script src=https://choria-io.github.io/provisioner/js/theme.js?1669828129 defer></script></body></html>